(function(e){function t(t){for(var n,o,u=t[0],l=t[1],i=t[2],p=0,b=[];p<u.length;p++)o=u[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&b.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);s&&s(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,u=1;u<r.length;u++){var l=r[u];0!==a[l]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/live-chat/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=l;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0e4d":function(e,t,r){},1254:function(e,t,r){"use strict";r("44a6")},"12b7":function(e,t,r){"use strict";r("7012")},3486:function(e,t,r){"use strict";r("a733")},"44a6":function(e,t,r){},"54fc":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function a(e,t){var r=Object(n["y"])("router-view");return Object(n["r"])(),Object(n["d"])(r)}r("3486");var c=r("6b0d"),o=r.n(c);const u={},l=o()(u,[["render",a]]);var i=l,s=r("6c02"),p={class:"welcome container"},b={key:0},d=Object(n["g"])("h2",null,"Login to chatroom",-1),f=Object(n["h"])("Not a member? "),m=Object(n["h"])(" now!"),h={key:1},v=Object(n["g"])("h2",null,"Sign up to the chatroom",-1),O=Object(n["h"])("Already a member? ");function j(e,t,r,a,c,o){var u=Object(n["y"])("LoginForm"),l=Object(n["y"])("SignUpForm");return Object(n["r"])(),Object(n["f"])("div",p,[a.showLogin?(Object(n["r"])(),Object(n["f"])("div",b,[d,Object(n["i"])(u,{onLogin:a.enterChat},null,8,["onLogin"]),Object(n["g"])("p",null,[f,Object(n["g"])("span",{onClick:t[0]||(t[0]=function(){return a.handleShowLogin&&a.handleShowLogin.apply(a,arguments)})},"Sign up"),m])])):(Object(n["r"])(),Object(n["f"])("div",h,[v,Object(n["i"])(l,{onSignup:a.enterChat},null,8,["onSignup"]),Object(n["g"])("p",null,[O,Object(n["g"])("span",{onClick:t[1]||(t[1]=function(){return a.handleShowLogin&&a.handleShowLogin.apply(a,arguments)})},"Log in")])]))])}var g={class:"error"},w=Object(n["g"])("button",null,"Sign Up",-1);function y(e,t,r,a,c,o){return Object(n["r"])(),Object(n["f"])("form",{onSubmit:t[3]||(t[3]=Object(n["H"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[Object(n["F"])(Object(n["g"])("input",{type:"text",required:"",name:"displayName",id:"displayName",placeholder:"Display Name","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.displayName=e}),onfocus:"this.placeholder=''",onblur:"this.placeholder='Display Name'"},null,512),[[n["C"],a.displayName]]),Object(n["F"])(Object(n["g"])("input",{type:"email",required:"",name:"email",id:"email",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e}),onfocus:"this.placeholder=''",onblur:"this.placeholder='Email'"},null,512),[[n["C"],a.email]]),Object(n["F"])(Object(n["g"])("input",{type:"password",required:"",name:"password",id:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e}),onfocus:"this.placeholder=''",onblur:"this.placeholder='Password'"},null,512),[[n["C"],a.password]]),Object(n["g"])("div",g,Object(n["A"])(a.error),1),w],32)}var S=r("1da1"),x=(r("96cf"),r("a1e9")),k=(r("d9e2"),r("4f60")),A=(r("256a"),r("1862"),{apiKey:"AIzaSyA0oSyBquwAdVfgMV5FdjuRmwoe-MpAiqw",authDomain:"vue-firebase-91fb6.firebaseapp.com",projectId:"vue-firebase-91fb6",storageBucket:"vue-firebase-91fb6.appspot.com",messagingSenderId:"228238781567",appId:"1:228238781567:web:176e789944b86d6586a34a"});k["a"].initializeApp(A);var C=k["a"].auth(),L=k["a"].firestore(),R=k["a"].firestore.FieldValue.serverTimestamp,N=Object(n["w"])(null),P=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return N.value=null,e.prev=1,e.next=4,C.createUserWithEmailAndPassword(r,n);case 4:if(a=e.sent,a){e.next=7;break}throw new Error("Could not complete sign up");case 7:return e.next=9,a.user.updateProfile({displayName:t});case 9:return N.value=null,e.abrupt("return",a);case 13:e.prev=13,e.t0=e["catch"](1),console.error(e.t0.message),N.value=e.t0.message;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r,n){return e.apply(this,arguments)}}(),F=function(){return{error:N,signup:P}},U=F,E={setup:function(e,t){var r=U(),n=r.error,a=r.signup,c=Object(x["l"])(null),o=Object(x["l"])(null),u=Object(x["l"])(null),l=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a(c.value,o.value,u.value);case 2:n.value||t.emit("signup");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{displayName:c,email:o,password:u,handleSubmit:l,error:n}}};const V=o()(E,[["render",y]]);var D=V,_={class:"error"},q=Object(n["g"])("button",null,"Login",-1);function I(e,t,r,a,c,o){return Object(n["r"])(),Object(n["f"])("form",{onSubmit:t[2]||(t[2]=Object(n["H"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[Object(n["F"])(Object(n["g"])("input",{type:"email",required:"",name:"email",id:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),onfocus:"this.placeholder=''",onblur:"this.placeholder='Email'"},null,512),[[n["C"],a.email]]),Object(n["F"])(Object(n["g"])("input",{type:"password",required:"",name:"password",id:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),onfocus:"this.placeholder=''",onblur:"this.placeholder='Password'"},null,512),[[n["C"],a.password]]),Object(n["g"])("div",_,Object(n["A"])(a.error),1),q],32)}var M=Object(n["w"])(null),T=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return M.value=null,e.prev=1,e.next=4,C.signInWithEmailAndPassword(t,r);case 4:return n=e.sent,M.value=null,e.abrupt("return",n);case 9:e.prev=9,e.t0=e["catch"](1),M.value="Incorrect login credentials";case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),W=function(){return{error:M,login:T}},H=W,z={setup:function(e,t){var r=Object(x["l"])(null),n=Object(x["l"])(null),a=H(),c=a.error,o=a.login,u=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o(r.value,n.value);case 2:c.value||t.emit("login");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:r,password:n,handleSubmit:u,error:c}}};const B=o()(z,[["render",I]]);var J=B,K={components:{SignUpForm:D,LoginForm:J},setup:function(){var e=Object(x["l"])(!0),t=Object(s["c"])(),r=function(){t.push({name:"Chatroom"})},n=function(){e.value=!e.value};return{showLogin:e,handleShowLogin:n,enterChat:r}}};r("5c44");const G=o()(K,[["render",j]]);var Q=G,X={class:"container"};function Y(e,t,r,a,c,o){var u=Object(n["y"])("Navbar"),l=Object(n["y"])("ChatWindow"),i=Object(n["y"])("NewChatForm");return Object(n["r"])(),Object(n["f"])("div",X,[Object(n["i"])(u),Object(n["i"])(l),Object(n["i"])(i)])}var Z=r("5c40"),$={key:0},ee={class:"email"};function te(e,t,r,a,c,o){return a.user?(Object(n["r"])(),Object(n["f"])("nav",$,[Object(n["g"])("div",null,[Object(n["g"])("p",null,"Hey there, "+Object(n["A"])(a.user.displayName),1),Object(n["g"])("p",ee,"Currently logged in as "+Object(n["A"])(a.user.email),1)]),Object(n["g"])("button",{onClick:t[0]||(t[0]=function(){return a.handleLogout&&a.handleLogout.apply(a,arguments)})},"Logout")])):Object(n["e"])("",!0)}var re=Object(n["w"])(null),ne=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return re.value=null,e.prev=1,e.next=4,C.signOut();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),re.value=e.t0.message;case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){return{error:re,logout:ne}},ce=ae,oe=Object(n["w"])(C.currentUser);C.onAuthStateChanged((function(e){oe.value=e}));var ue=function(){return{user:oe}},le=ue,ie={setup:function(){var e=ce(),t=e.error,r=e.logout,n=le(),a=n.user,c=(Object(s["c"])(),function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:t.value||console.log("user logged out");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return{handleLogout:c,error:t,user:a}}};const se=o()(ie,[["render",te]]);var pe=se,be={class:"error"};function de(e,t,r,a,c,o){return Object(n["r"])(),Object(n["f"])("form",null,[Object(n["F"])(Object(n["g"])("textarea",{placeholder:"Type a message...",onfocus:"this.placeholder=''",onblur:"this.placeholder='Type a message...'","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.message=e}),onKeypress:t[1]||(t[1]=Object(n["G"])(Object(n["H"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]),["enter"]))},null,544),[[n["C"],a.message]]),Object(n["g"])("div",be,Object(n["A"])(a.error),1)])}var fe=function(e){var t=Object(n["w"])(null),r=function(){var r=Object(S["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.value=null,r.prev=1,r.next=4,L.collection(e).add(n);case 4:r.next=10;break;case 6:r.prev=6,r.t0=r["catch"](1),console.error(r.t0.message),t.value=r.t0.message;case 10:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}();return{error:t,addDoc:r}},me=fe,he={setup:function(){var e=le(),t=e.user,r=me("message"),n=r.addDoc,a=r.error,c=Object(x["l"])(null),o=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={name:t.value.displayName,message:c.value,createdAt:R()},e.next=3,n(r);case 3:a.value||(c.value=null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{message:c,handleSubmit:o,error:a}}};r("775e");const ve=o()(he,[["render",de],["__scopeId","data-v-1c19c700"]]);var Oe=ve,je=(r("b0c0"),{class:"chat-window"}),ge={key:0},we={key:1,class:"messages",ref:"messages"},ye={class:"name"},Se={class:"created-at"},xe={class:"message"};function ke(e,t,r,a,c,o){return Object(n["r"])(),Object(n["f"])("div",je,[a.error?(Object(n["r"])(),Object(n["f"])("div",ge,Object(n["A"])(a.error),1)):Object(n["e"])("",!0),a.documents?(Object(n["r"])(),Object(n["f"])("div",we,[(Object(n["r"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(a.formattedDocuments,(function(e){return Object(n["r"])(),Object(n["f"])("div",{class:"message-block",key:e.id},[Object(n["g"])("span",ye,Object(n["A"])(e.name),1),Object(n["g"])("span",Se,Object(n["A"])(e.createdAt),1),Object(n["g"])("span",xe,Object(n["A"])(e.message),1)])})),128))],512)):Object(n["e"])("",!0)])}var Ae=r("5530"),Ce=(r("d81d"),r("d3b7"),r("159b"),function(e){var t=Object(n["w"])(null),r=Object(n["w"])(null),a=L.collection(e).orderBy("createdAt","asc"),c=a.onSnapshot((function(e){var n=[];e.docs.forEach((function(e){e.data().createdAt&&n.push(Object(Ae["a"])(Object(Ae["a"])({},e.data()),{},{id:e.id}))})),t.value=n,r.value=null}),(function(e){console.error(e.message),t.value=null,r.value=e.message}));return Object(n["E"])((function(e){e((function(){return c()}))})),{documents:t,error:r}}),Le=Ce,Re=r("ef1b"),Ne={setup:function(){var e=Le("message"),t=e.documents,r=e.error,n=Object(x["l"])(null);Object(Z["z"])((function(){n.value.scrollTop=n.value.scrollHeight}));var a=Object(Z["e"])((function(){if(t.value)return t.value.map((function(e){var t=Object(Re["a"])(e.createdAt.toDate());return Object(Ae["a"])(Object(Ae["a"])({},e),{},{createdAt:t})}))}));return{documents:t,error:r,formattedDocuments:a,messages:n}}};r("1254");const Pe=o()(Ne,[["render",ke]]);var Fe=Pe,Ue={components:{Navbar:pe,NewChatForm:Oe,ChatWindow:Fe},setup:function(){var e=le(),t=e.user,r=Object(s["c"])();Object(Z["P"])(t,(function(){t.value||r.push("/")}))}};r("12b7");const Ee=o()(Ue,[["render",Y]]);var Ve,De=Ee,_e=function(e,t,r){var n=C.currentUser;n?r():r({name:"Welcome"})},qe=function(e,t,r){var n=C.currentUser;n?r({name:"Chatroom"}):r()},Ie=[{path:"/",name:"Welcome",component:Q,beforeEnter:qe},{path:"/chatroom",name:"Chatroom",component:De,beforeEnter:_e}],Me=Object(s["a"])({history:Object(s["b"])("/live-chat/"),routes:Ie}),Te=Me;r("845f");C.onAuthStateChanged((function(){Ve||(Ve=Object(n["c"])(i).use(Te).mount("#app"))}))},"5c44":function(e,t,r){"use strict";r("0e4d")},7012:function(e,t,r){},"775e":function(e,t,r){"use strict";r("54fc")},"845f":function(e,t,r){},a733:function(e,t,r){}});
//# sourceMappingURL=app.3a9742cc.js.map